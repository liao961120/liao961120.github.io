<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="About Learning"><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/fonts.css><link rel=stylesheet href=/css/custom.css><title>Pick and Stick to a Convention |
Yongfu's Blog</title></head><body><div class=header><div class=header_title><span class=logo><!doctype html><svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="346pt" height="346pt" viewBox="0 0 346 346"><g transform="translate(0.000000,346.000000) scale(0.100000,-0.100000)" fill="#000" stroke="none"><path d="M1484 3328c8-40 19-53 84-94 36-24 52-40 50-52-2-10-12-16-23-15-173 21-208 16-293-38-17-12-66-30-108-40-117-29-354-149-354-178 0-5 20-6 45-3 28 3 45 1 45-6 0-6-32-32-70-57-98-65-105-78-90-162 7-38 20-88 30-113 21-50 17-65-33-117-23-25-32-46-38-93-7-49-17-70-50-112-39-50-41-55-33-98 4-25 8-95 8-156 1-104 3-113 29-151 15-22 41-52 58-67 16-14 29-33 29-41 0-33 71-189 122-267 30-46 82-113 116-149 56-60 60-67 47-85-27-39-155-291-155-305 1-8 45-43 99-79l97-64-7-47c-4-25-22-73-40-104-33-59-38-93-31-205 2-43-13-179-23-202-4-10-10-16-14-14-16 10-39-21-34-47 5-23 9-26 32-20 41 12 94 9 98-4 7-21-131-17-152 3-12 13-19 14-30 4-8-7-15-19-15-26 0-12 68-14 405-14 263 0 405 3 405 10 0 6-83 10-230 10h-230l-11 27c-7 20-6 28 3 35 24 15 136 8 272-17 167-31 201-31 351 0 123 25 190 30 283 18 47-5 53-8 50-27-3-21-8-21-235-24-198-2-233-5-233-17 0-13 54-15 409-15 406 0 409 0 404 20-7 27-43 48-43 25 0-22-34-19-56 6-15 17-16 22-4 29 9 6 17 5 22-3 4-6 10-8 14-4s-1 16-11 27c-14 16-21 18-28 8-6-9-7-8-3 5 3 10 0 20-9 23-7 3-11 12-8 20s0 21-7 29c-20 24-30 87-17 103 6 8 11 44 11 82-1 53-8 82-32 136-28 60-58 163-50 168 2 1 41 19 88 40s89 42 94 46c17 17-80 244-135 314l-20 25-44-30c-48-32-188-1e2-245-118-19-6-83-27-142-46-116-39-236-53-303-37-39 10-38 10 27 11 37 1 102 7 145 13l78 13-140 6c-209 10-363 60-526 169-192 130-358 370-403 587l-7 31 78 7c43 3 90 8 104 11l26 5 17-148c11-91 23-157 33-172 15-24 16-24 147-18 203 9 528 54 544 75 11 13 13 54 10 179-4 165-3 173 33 173 5 0 9-30 9-67 0-87 18-240 30-263 16-29 99-34 392-23 222 8 270 12 292 26l26 17v160 160h28c16 0 63 3 104 6l75 7 7-42c6-40 3-47-49-122-31-43-51-79-45-79s37 13 69 30c64 32 73 47 87 140 9 63 36 112 84 152 45 39 49 52 20 68-11 6-38 35-61 66-39 51-42 60-50 144-5 49-15 106-24 126-14 35-14 39 4 58 27 29 35 69 21 110-8 26-24 42-63 64-58 33-81 55-95 93-15 37 17 103 63 130 19 12 35 25 35 30 0 17-68 9-147-16-42-13-79-22-81-20-12 11 33 56 80 82l52 28-34 3c-22 2-52-6-92-27-32-17-65-31-73-31-25 0-108 46-155 85-57 48-142 85-192 85-46 0-57 5-163 76-81 54-192 94-262 94-21 0-54 15-99 45-36 25-69 45-72 45-2 0-2-14 2-32zm-143-641c-13-16-43-98-38-104 2-2 20 11 40 29s56 44 79 56l43 24-48-48c-31-30-64-79-94-138l-45-91 59 61c45 48 84 75 178 124 66 34 130 70 143 79 32 23 183 11 261-21 50-20 72-23 204-23 143 0 149 1 166 23l17 24 19-44c23-51 167-203 279-295 48-39 81-73 82-86 2-12 12-62 22-112 11-49 18-91 17-93-4-4-199 50-208 58-4 4-9 45-11 91l-3 84-83-1c-82-1-83-1-112 32-42 48-124 84-191 84-49 0-66-7-186-76-90-52-130-81-127-90 4-10-2-14-19-14-24 0-24-2-27-92-3-87-4-93-25-96-20-3-22 2-28 75-3 43-8 83-10 90-3 9-79 10-307 6-167-3-334-8-373-12-80-7-75 2-61-121l7-66-93-38c-51-21-99-41-107-44-12-4-13 5-8 49 4 30 14 76 23 102 14 42 23 51 68 74 30 15 88 63 142 117 70 71 106 118 162 212 58 1e2 82 130 134 172 65 53 78 62 59 39zm897-336c20-10 48-30 61-44l23-25-43-7c-71-9-389-41-389-39 0 7 120 94 155 112 53 28 142 29 193 3zm216-399c4-152 4-285 1-294-4-9-14-19-23-23s-143-9-298-12c-248-5-281-4-287 10-7 18-24 241-31 413l-6 122 113 12c61 6 184 20 272 30 88 9 181 18 206 19l46 1 7-278zm-810 171c16-80 37-505 26-516-17-16-580-71-593-58-5 5-10 28-13 52-2 31-1 37 4 19 5-16 17-26 32-28 23-4 421 34 469 44 13 3 21 7 18 10-2 3-114-7-247-21-134-14-247-22-251-18-10 11-53 448-45 468 5 13 42 15 265 15 181 0 262 3 267 11s-65 10-260 7c-217-3-268-6-280-18-12-13-13-33-1-150 8-74 14-151 13-170-1-40-23 141-34 277l-7 93 169 3c93 1 235 4 316 5l146 2 6-27zm-587-455c-2-13-4-3-4 22s2 35 4 23c2-13 2-33 0-45zM975 191c3-5 1-12-5-16-5-3-10 1-10 9 0 18 6 21 15 7zm210-59c-9-9-25 19-24 43 0 16 2 15 15-8 9-16 13-32 9-35zm-55 9c0-11-4-9-14 4-8 11-12 24-9 28 7 11 23-12 23-32zm1108 17c-2-6-10-14-16-16-7-2-10 2-6 12 7 18 28 22 22 4zm44-10c-7-7-12-8-12-2 0 14 12 26 19 19 2-3-1-11-7-17zm83 2c4-6-5-10-20-10s-24 4-20 10c3 6 12 10 20 10s17-4 20-10z"/><path d="M1260 2374c-42-23-1e2-75-1e2-89 0-4 16 7 35 24 56 49 95 65 155 65 66 0 115-23 214-1e2 71-57 90-63 121-40 16 12 6 20-116 90-131 74-137 76-199 75-49 0-76-7-110-25z"/><path d="M2070 2158c-102-11-189-25-195-30-7-7 2-9 30-4 104 16 474 48 489 43 15-6 16-32 14-244l-3-238-247-3c-141-1-248-6-248-11 0-9 469-4 498 5 10 3 12 58 10 251l-3 248-80 2c-44 0-163-8-265-19z"/><path d="M1969 1961c-62-62-20-171 66-171 27 0 44 8 66 29 62 62 20 171-66 171-27 0-44-8-66-29z"/><path d="M1414 1940c-60-24-73-112-25-161 39-38 87-39 130-3 26 22 31 33 31 71 0 77-65 122-136 93z"/><path d="M1512 1343c2-10 32-33 67-52 91-48 176-54 255-18 52 24 77 49 62 64-3 3-29-6-57-21-76-42-149-39-243 8-81 41-89 43-84 19z"/><path d="M933 693c15-2 39-2 55 0 15 2 2 4-28 4s-43-2-27-4z"/><path d="M2388 673c6-2 18-2 25 0 6 3 1 5-13 5s-19-2-12-5z"/><path d="M870 155c-6-8-10-19-8-24 1-6 8 1 15 14 13 28 11 31-7 10z"/><path d="M2546 157c3-10 9-15 12-12s0 11-7 18c-10 9-11 8-5-6z"/></g></svg></span><span>Yongfu's Blog</span></div><div class=site_nav><span class=nav_link><a href=/>Home</a></span>
<span class=nav_link><a href=/post/>Posts</a></span>
<span class=nav_link><a href=/about/>About</a></span>
<span class=nav_link><a href=/feed.xml>Subscribe</a></span>
<span class=nav_link><a href=/search/><span style=font-size:1.1em>⌕</span></a></span></div></div><div class=main><article class=post><div class=article_header><div class=titles><h1>Pick and Stick to a Convention</h1><p class=subtitle>Personal workflow of writing with Pandoc</p></div><div class=meta><div class=tags><a href="/post/?tag=thoughts">thoughts</a>
<a href="/post/?tag=writing-tools">writing-tools</a>
<a href="/post/?tag=r-markdown">r-markdown</a></div><div class=date><span class=inline-icon><svg aria-hidden="true" focusable="false" data-prefix="far" data-icon="calendar-alt" class="svg-inline--fa fa-calendar-alt fa-w-14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="rgb(95, 95, 95)" d="M148 288h-40c-6.6.0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v40c0 6.6-5.4 12-12 12zm108-12v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 96v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm-96 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm192 0v-40c0-6.6-5.4-12-12-12h-40c-6.6.0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h40c6.6.0 12-5.4 12-12zm96-260v352c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h48V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h128V12c0-6.6 5.4-12 12-12h40c6.6.0 12 5.4 12 12v52h48c26.5.0 48 21.5 48 48zm-48 346V160H48v298c0 3.3 2.7 6 6 6h340c3.3.0 6-2.7 6-6z"/></svg></span><span class=str>Nov 20, 2023</span></div></div></div><div class=article_content><p>Over the years, I have gradually moved from R Markdown to Pandoc&rsquo;s Markdown when writing documents that require fancy features such as citations and cross-references. R Markdown (and Quarto) is great, especially when the written piece involves a lot of code, but I often found it more efficient to split between the tasks of programming and writing (e.g., plotting with external scripts and then referencing the charts in the document). Furthermore, Pandoc&rsquo;s functionality is sufficient for my needs. In fact, I sometimes find Pandoc too powerful&mdash;once in a while, I come across some Pandoc options providing solutions to things I have dealt with some hacky javascript.</p><p>Ironically, powerful tools could result in inefficiency for novices, probably through the joint effect of memory limitation and <a href=https://en.wikipedia.org/wiki/The_Paradox_of_Choice>the paradox of choice</a>. We constantly forget useful features and have difficulties deciding the best way to implement a feature when there are multiple routes to achieve the goal. The syntax of Pandoc&rsquo;s Markdown is well-designed to specifically address some of the incompatibilities between HTML and LaTeX. However, just like all flavors of Markdown, Pandoc is also lenient about its syntax. Therefore, it&rsquo;s seductive for novices to mix Markdown with HTML, say when writing a blog post, and with LaTeX when targeting paged media. Repercussions become visible when you want to compile works, originally targeted at either the web or printing, into another format.</p><p>The theme here is not minimalism in terms of a modest parsimonious set of Markdown features. Rather, I believe minimalism can be approached by picking a powerful tool, much more powerful than what one demands at the beginning, sticking to it, and mastering it. A powerful tool provides overarching principles and conventions that can only be visible and beneficial once one has mastered it. Sticking to these conventions saves the experienced from information overload, and they could instead focus on getting things done. This, I think, is the essence of minimalism. Any effort not directly invested into documenting and conveying ideas (e.g., worries about formatting, typesetting, visual appearance, etc.) acts against minimalism.</p><p>Typesetting does help convey ideas, doesn&rsquo;t it, one might ask. I totally agree, and it does so by following a particular set of conventions. That&rsquo;s why journal publishers provide style guides and templates. A consistent style helps readers quickly grasp the messages in the papers. The problem is that authors often invest too much in typesetting, slowing down the writing process. Typesetting should be automated given its highly repetitive nature. And to automate the process, authors need to obey another set of conventions. Since the typesetting requirements of the final written products (e.g., printed books and fancy blog posts) are often quite complicated, the set of conventions for writing the source documents must also be large enough for typesetting to be automatable. This is why we need a powerful tool to provide the conventions in the first place. This is also why LaTeX has been prevalent among heavy writers&mdash;as long as one sticks to paged media, LaTeX can pretty much compile to any format on demand.</p><p>Nowadays, we often find it necessary to convert our works into both HTML and PDF. Pandoc is THE ideal tool for this, to the best of my knowledge. Given the highly incompatible nature of HTML and LaTeX styling, Pandoc does a great job of providing a common set of representations to be converted into native HTML and LaTeX elements. Whenever Pandoc does not provide such a representation, it signals that one might be asking too much. It is then a good time to rethink whether we indeed need the element, whether we require both HTML and PDF outputs, and whether we can afford additional efforts for typesetting both output formats. Luckily, I rarely find it necessary to go beyond what Pandoc has provided. With citation and bibliography provided by Pandoc <a href=https://pandoc.org/MANUAL.html#citations>citeproc</a> and cross-referencing provided by <a href=https://github.com/lierdakil/pandoc-crossref>pandoc-crossref</a>, I have no problem writing papers and books that compile into both HTML and PDF. Instead, what I find tricky is Pandoc&rsquo;s overwhelming options. It would be very inefficient to look up the options every time one decides to write something. So I finally decided to document my workflow and conventions of writing with Pandoc<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><h2 id=figure>Figure</h2><p>Figures create no issue at all as long as one sticks to PNGs or JPEGs. I love vector graphics, however. In addition, I often draw graphs with <a href=https://en.wikipedia.org/wiki/PGF/TikZ>TikZ</a> that output to PDFs. It thus seems natural for me to include those PDFs as figures in my work to be compiled as a PDF document. What to do then, for the HTML outputs?</p><p>The answer lies in the mighty option <a href=https://pandoc.org/MANUAL.html#option--default-image-extension><code>--default-image-extension</code></a>. Basically, in my source document, most image links are written <strong>without</strong> the image extension. For instance, instead of <code>![](fig/foo.pdf)</code>, I use <code>![](fig/foo)</code> and set <code>--default-image-extension=pdf</code> when I&rsquo;m compiling to PDF. If I want an HTML output, I would simply call Pandoc with <code>--default-image-extension=svg</code>, and Pandoc will locate the <code>.svg</code> version of the figures in <code>fig/</code> for me. No modification to the source document. To sum up, my figure workflow follows something like this:</p><ol><li>Create graphics from individual <code>.tex</code> documents, R scripts, or anything else in a <code>fig/</code> directory.<ul><li>For PDF graphics, I convert them into <code>.svg</code> with my custom wrapper function <a href=https://yongfu.name/stom/reference/pdf2png.html><code>stom::pdf2svg()</code></a> around <a href=https://inkscape.org>Inkscape</a>.</li><li>For SVG graphics, I convert them into <code>.pdf</code> with a similar function <code>stom::svg2pdf()</code>.</li><li>For graphics of other formats (e.g., <code>.png</code>, <code>.jpg</code>, etc.), I keep them as is, and specify their paths <strong>with extensions</strong> in the source documents.</li></ul></li><li>Reference the graphics <strong>without extensions</strong> in the image links except for those that only have a <code>.png</code> or <code>.jpg</code> version.</li><li>Setup two different commands or scripts for compiling the HTML and PDF outputs, respectively.<ul><li>For the command compiling to HTML, the option <code>--default-image-extension=svg</code> is applied.</li><li>For the command compiling to PDF, the option <code>--default-image-extension=pdf</code> is used.</li></ul></li></ol><h2 id=heading>Heading</h2><p>I am accustomed to using level-2 headings (<code>##</code>) as the top-level heading when writing posts and articles. This makes Pandoc produce HTMLs that follow the conventions of web pages&mdash;one <code>h1</code> tag per HTML file. But things go wrong when you compile the document into PDFs (through <code>LaTeX</code> engines), especially when section numbering is enabled. In the output PDF, the top-level headings will be missing. If you turn on section numbering, you will see that the level-2 headings are given numbers starting with <code>0.</code>. To address the inconsistency, take a look at the option <a href=https://pandoc.org/MANUAL.html#option--shift-heading-level-by><code>--shift-heading-level-by</code></a>. By setting <code>--shift-heading-level-by=-1</code> for PDF outputs, I can adjust the heading levels in the output PDFs.</p><h2 id=citation>Citation</h2><p>Pandoc has native support for generating citations and bibliography when the <a href=https://pandoc.org/MANUAL.html#citations><code>--citeproc</code></a> option is used. Pandoc&rsquo;s <a href=https://pandoc.org/MANUAL.html#citation-syntax>citation syntax</a> is well-documented in its manual so I won&rsquo;t repeat it here. Another thing worth noting is the reference management software <a href=https://www.zotero.org>Zotero</a> and its extension <a href=https://github.com/retorquere/zotero-better-bibtex>BetterBibTex</a>. We need them for customizing citation keys in the bibliography, which eases the process of citing works during writing. Search the internet for <code>Pandoc + Zotero</code> and you will find many resources with details. For example, take a look at this <a href=https://github.com/laderast/magic-of-markdown/blob/master/pandoc-zotero/notes.md>document</a>.</p><h2 id=cross-reference>Cross-reference</h2><p>Cross-referencing consists of a set of complicated functionalities. Many tools have been created for this task. For instance, in the R Markdown ecosystem, Bookdown introduces its own <a href=https://bookdown.org/yihui/rmarkdown-cookbook/cross-ref.html>crossref syntax</a>. Quarto has also developed another set of <a href=https://quarto.org/docs/authoring/cross-references.html>crossref syntax</a> through Lua filters. Both of them build on&mdash;but go much more beyond&mdash;Pandoc. Using them thus requires familiarity with their ecosystems. A more Pandoc-centric solution is the <a href=https://github.com/lierdakil/pandoc-crossref>pandoc-crossref filter</a>. To use <code>pandoc-crossref</code>, one simply download an executable from GitHub and place it in one of the PATH directories. Specifying <code>--filter=pandoc-crossref</code> when calling Pandoc would then enable cross-referencing.</p><p><code>pandoc-crossref</code>&rsquo;s <a href=https://lierdakil.github.io/pandoc-crossref/>documentation</a> is well-written. Be patient and take some time to read it. Personally, I find the functionalities quite overwhelming, so I wrap the configuration variables in an external <a href=https://github.com/liao961120/stom/blob/main/inst/template/pandoc-crossref.yaml>YAML file</a> as described <a href=https://lierdakil.github.io/pandoc-crossref/#settings-file>here</a>. A minor thing to notice is <code>--filter=pandoc-crossref</code> should be <strong>called before</strong> <code>--citeproc</code> to avoid some potential issues.</p><h2 id=inline-formatting>Inline formatting</h2><p>Pandoc provides various <a href=https://pandoc.org/MANUAL.html#inline-formatting>inline formattings</a> that convert nicely to LaTeX and HTML elements, such as <em>emphasis</em>, <em>strikeout</em>, <em>superscripts and subscripts</em>, <em>verbatim</em> (inline code), <em>underline</em>, <em>small caps</em>, and <em>highlighting</em>.</p><p>It was a mixed feeling when I first learned about the small caps feature. I was excited but also regretted not looking up the small-cap feature because I had just used the tex command <code>\textsc{}</code> in a previous article. Anyway, it&rsquo;s cool that <code>[text]{.smallcaps}</code> gets converted to <code>\textsc{text}</code> for LaTeX and to <code>&lt;span class="smallcaps">text&lt;/span></code> for HTML. Many other features can similarly save you from mixing markdown with LaTeX/HTML syntax. Always be patient to read the documentation (reminding myself)!</p><h2 id=wrapping-up>Wrapping up</h2><p>Given the tremendous amount of options required to compile a Pandoc Markdown document into outputs fitting my taste, I realized I had to wrap the massive Pandoc command into some functions. Therefore, I included <a href=https://yongfu.name/stom/reference/pandoc_pdf.html>two functions</a> and <a href=https://github.com/liao961120/stom/tree/main/inst/cli>several CLI scripts</a> in my personal package <code>stom</code> to help me with these massive commands.</p><p>For instance, to compile a Markdown file into a PDF, I can simply call:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1</span><span>pandoc_pdf writing-conventions.md
</span></span></code></pre></div><p>which generates this monstrous command under the hood:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1</span><span>pandoc.exe C:/Users/rd/AppData/Local/Temp/RtmpCO1Eg0/filea1d061f7a17 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2</span><span>    --from<span style=color:#f92672>=</span>markdown+tex_math_dollars+raw_tex+raw_attribute+bracketed_spans 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3</span><span>    --to<span style=color:#f92672>=</span>pdf 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4</span><span>    --pdf-engine<span style=color:#f92672>=</span>xelatex 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5</span><span>    --filter<span style=color:#f92672>=</span>pandoc-crossref 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6</span><span>    -M crossrefYaml<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;C:/Users/rd/AppData/Local/Programs/R/R-4.1.3/library/stom/template/pandoc-crossref.yaml&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7</span><span>    --citeproc 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8</span><span>    --shift-heading-level-by<span style=color:#f92672>=</span>-1 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9</span><span>    -H C:/Users/rd/AppData/Local/Programs/R/R-4.1.3/library/stom/template/preamble.tex 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10</span><span>    -B C:/Users/rd/AppData/Local/Temp/RtmpCO1Eg0/filea1d015f53688 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11</span><span>    --template C:/Users/rd/AppData/Local/Programs/R/R-4.1.3/library/stom/template/default.latex 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12</span><span>    --number-sections 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13</span><span>    --default-image-extension<span style=color:#f92672>=</span>pdf 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14</span><span>    --variable<span style=color:#f92672>=</span>documentclass:amsart 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">15</span><span>    --variable<span style=color:#f92672>=</span>classoption:reqno,12pt 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">16</span><span>    -V mathspec 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">17</span><span>    --variable<span style=color:#f92672>=</span>mainfont:<span style=color:#e6db74>&#34;Adobe Caslon Pro&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">18</span><span>    --variable<span style=color:#f92672>=</span>mainfontoptions:Scale<span style=color:#f92672>=</span>1.28,Numbers<span style=color:#f92672>={</span>Lining,Proportional<span style=color:#f92672>}</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">19</span><span>    --variable<span style=color:#f92672>=</span>monofont:<span style=color:#e6db74>&#34;Monego&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">20</span><span>    --variable<span style=color:#f92672>=</span>monofontoptions:Scale<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">21</span><span>    --variable<span style=color:#f92672>=</span>mathfont:<span style=color:#e6db74>&#34;Adobe Caslon Pro&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">22</span><span>    --variable<span style=color:#f92672>=</span>greek-mathfont:<span style=color:#e6db74>&#34;GFS Porson&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">23</span><span>    --variable<span style=color:#f92672>=</span>mathfontoptions:Scale<span style=color:#f92672>=</span>1.28,Numbers<span style=color:#f92672>={</span>Lining,Proportional<span style=color:#f92672>}</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">24</span><span>    --variable<span style=color:#f92672>=</span>indent:true 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">25</span><span>    --variable<span style=color:#f92672>=</span>geometry:<span style=color:#e6db74>&#34;paperwidth=7in,paperheight=10in,text={5in,8in},left=1in,top=1in,headheight=0.25in,headsep=0.4in,footskip=0.4in&#34;</span> 
</span></span><span style=display:flex><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">26</span><span>    -o writing-conventions.pdf
</span></span></code></pre></div><p>I&rsquo;m showing this to illustrate that maintaining a document template can be quite complicated and requires an infrastructure (e.g., R package) to keep things neat.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>I&rsquo;m currently using Pandoc <code>3.1.6</code>, and therefore the options and settings may not be compatible with the <code>2.X.X</code> versions.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><br><br><br><script src=https://giscus.app/client.js data-repo=liao961120/yongfu.name data-repo-id=R_kgDOJZfylw data-category=Announcements data-category-id=DIC_kwDOJZfyl84CV71T data-mapping=pathname data-strict=1 data-reactions-enabled=0 data-emit-metadata=0 data-input-position=top data-theme=light_tritanopia data-lang=en data-loading=lazy crossorigin=anonymous async></script><div class=next-prev><div><span>PREV</span>
<a href=https://yongfu.name/2023/11/13/taiwan-public-transport/>Navigating Taiwan's Public Transport</a></div></div></article><aside class="toc toc-right js-toc relative z-1 transition--300 absolute pa4 pt5 is-position-fixed"></aside></div><script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js></script>
<link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.css><script>tocbot.init({tocSelector:".js-toc",contentSelector:".article_content",ignoreSelector:".Box h2, .Box h3, .Box h4, .Box h5, .Box h6, .ignoreToc",headingSelector:"h2, h3, h4",scrollSmooth:!1,hasInnerContainers:!0,collapseDepth:3})</script><script>const ref=document.querySelector(".references");ref&&document.querySelector(".article_content").appendChild(ref)</script><style>ol.toc-list{list-style-type:none}aside{position:fixed;top:15%!important;right:2%}.next-prev{margin-top:2.5em;border-top:2px solid rgba(173,173,173,.548);display:flex;flex-wrap:wrap;justify-content:space-between}.next-prev>div{min-width:150px;width:43%}.next-prev>div>span{display:block;width:100%;color:grey;font-weight:600;letter-spacing:1.5px;padding-bottom:.3rem;margin-top:.4rem}.next-prev>div:nth-child(2){text-align:right}.next-prev>div>a{text-decoration:none;color:#000;font-weight:600}</style><footer><div class=social><span class=icon title="Send me an email"><a href=mailto:liao961120@gmail.com target=_blank><span class="social email"><svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="envelope" class="svg-inline--fa fa-envelope fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#fff" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></svg></span></a></span><span class=icon title="Follow me on Twitter"><a href=https://twitter.com/liao_yongfu target=_blank><span class="social twitter"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#fff" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645.0 138.72-105.583 298.558-298.558 298.558-59.452.0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055.0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421.0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391.0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04.0-57.828 46.782-104.934 104.934-104.934 30.213.0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg></span></a></span><span class=icon title="Follow me on Facebook"><a href=https://www.facebook.com/liao961120 target=_blank><span class="social facebook"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="facebook-f" class="svg-inline--fa fa-facebook-f fa-w-10" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><path fill="#fff" d="M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43.0 225.36.0c-73.22.0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"/></svg></span></a></span><span class=icon title="Follow me on GitHub"><a href=https://github.com/liao961120 target=_blank><span class="social github"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="#fff" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span></a></span></div><p class=site_info><span class=copyright>© Yongfu's Blog 2017-2023</span></p><p class=theme_info>Powered by <a href=https://gohugo.io target=_blank>Hugo</a> & <a href=https://github.com/liao961120/TeXtLite target=_blank>TeXtLite Theme</a>.</p></footer><div class=scrollBtn><span id=scrolltop onclick=window.scrollTo(0,0)>&#9650;</span>
<span id=scrollbottom onclick=window.scrollTo(0,document.body.scrollHeight)>&#9660;</span></div><style>div.scrollBtn{display:flex;flex-wrap:wrap;width:1em;position:fixed;bottom:1.1%;right:.8%}#scrolltop,#scrollbottom{line-height:1;font-size:1.4rem;color:var(--link-transitiion-light)}#scrolltop:hover,#scrollbottom:hover{cursor:pointer;color:green;font-size:1.6rem}</style><script src=https://unpkg.com/@popperjs/core@2></script>
<script src=https://unpkg.com/tippy.js@6></script>
<link rel=stylesheet href=https://unpkg.com/tippy.js@6/themes/light-border.css><script>function renderHoverNotes(){document.querySelectorAll('a[href^="#fn"]:not(.footnote-backref)').forEach(e=>{const t=new URL(e.href).hash;tippy(e,{content:`<div style="max-height:55vh; 
                                              overflow-y:auto">
                                <div style="width:94%; margin: 0 3%;">
                            ${document.getElementById(t.substring(1)).innerHTML}
                            </div></div>`,allowHTML:!0,theme:"light-border",interactive:!0,maxWidth:"40ch"})}),document.querySelectorAll('a[href^="#"]:not(.footnote-backref)').forEach(e=>{const n=new URL(e.href).hash;var t=document.getElementById(n.substring(1));if(t.classList.contains("Box")&&tippy(e,{content:`<div style="
                                            max-height:55vh; 
                                            overflow-y:auto;">
                                        <div style="width:94%; margin: 0 3%;">${t.innerHTML}</div>
                                      </div>`,allowHTML:!0,theme:"light-border",interactive:!0,maxWidth:"50ch"}),t.classList.contains("katex-display")){let n=t.cloneNode(!0);n.querySelector("span.tag").remove(),tippy(e,{content:`<div style="
                                            width: 33vw;
                                            min-width: 370px;
                                            max-height:85vh; 
                                            overflow-y:auto;">
                                        <div style="width:95%; margin: 1em auto;">
                                            <span>${n.innerHTML}</span>
                                        </div>
                                      </div>`,allowHTML:!0,theme:"light-border",interactive:!0,maxWidth:"50ch"})}})}document.addEventListener("DOMContentLoaded",function(){renderHoverNotes()})</script></body></html>